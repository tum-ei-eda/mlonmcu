---
home: "{{ home_dir }}"
logging:
  level: DEBUG
  to_file: false
  rotate: false
cleanup:
  auto: true
  keep: 50
paths:
  deps: deps
  logs: logs
  results: results
  plugins: plugins
  temp: temp
  models:
    - "{{ home_dir }}/models"
    - "{{ config_dir }}/models"
repos:
  etiss:
    # url: "https://github.com/tum-ei-eda/etiss.git"
    # ref: 739573d5f12798074bc7d375a46c005f23f59f67  # develop, 23.01.2024
    url: "https://github.com/PhilippvK/etiss.git"
    ref: get_metrics_fast
  spike:
    url: "https://github.com/riscv-software-src/riscv-isa-sim.git"
    ref: 0bc176b3fca43560b9e8586cdbc41cfde073e17a
  spikepk:
    url: "https://github.com/riscv-software-src/riscv-pk.git"
    ref: 7e9b671c0415dfd7b562ac934feb9380075d4aa2
  mlif:
    url: "https://github.com/tum-ei-eda/mlonmcu-sw.git"
    ref: iree-support
  iree:
    # url: "https://github.com/iree-org/iree"
    url: "https://github.com/PhilippvK/iree"
    # ref: v3.1.0
    ref: v3.1.0_fix
    options:
      single_branch: true
      shallow: true
      recursive: false
      submodules:
      - third_party/googletest
      - third_party/llvm-project
      # - third_party/vulkan_headers
      - third_party/benchmark
      # - third_party/tracy
      - third_party/flatcc
      # - third_party/spirv_cross
      - third_party/cpuinfo
      # - third_party/webgpu-headers
      # - third_party/musl
      # - third_party/stablehlo
      - third_party/torch-mlir
      # - third_party/hip-build-deps
      # - third_party/hsa-runtime-headers

frameworks:
  default: iree
  iree:
    enabled: true
    backends:
      default: ireevmvx
      ireevmvx:
        enabled: true
        features: {}
      ireellvm:
        enabled: true
        features: {}
      ireellvmc:
        enabled: true
        features: {}
      ireevmvx_inline:
        enabled: true
        features: {}
      ireellvm_inline:
        enabled: true
        features: {}
      ireellvmc_inline:
        enabled: true
        features: {}
    features: {}
frontends:
  mlir:
    enabled: true
    features: {}
  tflite:
    enabled: true
    features: {}
  onnx:
    enabled: true
    features: {}
  saved_model:
    enabled: true
    features: {}
  pb:
    enabled: true
    features: {}
toolchains:
  gcc: true
  llvm: true
platforms:
  mlif:
    enabled: true
    features:
      debug: true
      validate: true
      benchmark: true
targets:
  default: etiss
  etiss:
    enabled: true
    features:
      gdbserver: true
      etissdbg: true
      trace: true
      log_instrs: true
  host_x86:
    enabled: true
    features:
      gdbserver: true
  spike:
    enabled: true
    features:
      vext: false
      pext: false
      cachesim: true
      log_instrs: true
postprocesses:
  use: []
vars:
  allow_extensions: false
  runs_per_stage: true
  # llvm.distribution: x86_64-linux-gnu-ubuntu-18.04
  # llvm.version: 18.1.8
  llvm.dl_url: "https://github.com/PhilippvK/riscv-tools/releases/download/llvm_18.1.8/clang+llvm-18.1.8-x86_64-linux-gnu-ubuntu-{{ ubuntu_version if ubuntu_version is defined else '20.04'}}.tar.xz"
  riscv_gcc_rv32.dl_url: "https://github.com/PhilippvK/riscv-tools/releases/download/gnu_2024.09.03_gcc14/riscv32-unknown-elf-ubuntu-{{ ubuntu_version if ubuntu_version is defined else '20.04'}}-rv32gc_ilp32d.tar.xz"
  riscv_gcc_rv32.dl_url_vext: "https://github.com/PhilippvK/riscv-tools/releases/download/gnu_2024.09.03_gcc14/riscv32-unknown-elf-ubuntu-{{ ubuntu_version if ubuntu_version is defined else '20.04'}}-rv32gcv_ilp32d.tar.xz"
  iree.version: "3.1"
  spike.keep_build_dir: false
  etiss.keep_build_dir: false
  iree.keep_build_dir: false
flags: {}
